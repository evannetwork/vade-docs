"use strict";(self.webpackChunkvade_docs=self.webpackChunkvade_docs||[]).push([[2663],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},d=Object.keys(e);for(a=0;a<d.length;a++)n=d[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(a=0;a<d.length;a++)n=d[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,d=e.originalType,l=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,k=c["".concat(l,".").concat(m)]||c[m]||u[m]||d;return n?a.createElement(k,i(i({ref:t},s),{},{components:n})):a.createElement(k,i({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var d=n.length,i=new Array(d);i[0]=c;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var p=2;p<d;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},8215:function(e,t,n){var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},6396:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(7462),r=n(7294),d=n(2389),i=n(9443);var o=function(){var e=(0,r.useContext)(i.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},l=n(9521),p=n(6010),s="tabItem_1uMI";function u(e){var t,n,a,d=e.lazy,i=e.block,u=e.defaultValue,c=e.values,m=e.groupId,k=e.className,y=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=c?c:y.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),f=(0,l.lx)(v,(function(e,t){return e.value===t.value}));if(f.length>0)throw new Error('Docusaurus error: Duplicate values "'+f.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var b=null===u?u:null!=(t=null!=u?u:null==(n=y.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(a=y[0])?void 0:a.props.value;if(null!==b&&!v.some((function(e){return e.value===b})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+b+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var h=o(),g=h.tabGroupChoices,N=h.setTabGroupChoices,E=(0,r.useState)(b),w=E[0],_=E[1],T=[],x=(0,l.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var I=g[m];null!=I&&I!==w&&v.some((function(e){return e.value===I}))&&_(I)}var C=function(e){var t=e.currentTarget,n=T.indexOf(t),a=v[n].value;a!==w&&(x(t),_(a),null!=m&&N(m,a))},A=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=T.indexOf(e.currentTarget)+1;n=T[a]||T[0];break;case"ArrowLeft":var r=T.indexOf(e.currentTarget)-1;n=T[r]||T[T.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,p.Z)("tabs",{"tabs--block":i},k)},v.map((function(e){var t=e.value,n=e.label;return r.createElement("li",{role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,className:(0,p.Z)("tabs__item",s,{"tabs__item--active":w===t}),key:t,ref:function(e){return T.push(e)},onKeyDown:A,onFocus:C,onClick:C},null!=n?n:t)}))),d?(0,r.cloneElement)(y.filter((function(e){return e.props.value===w}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},y.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==w})}))))}function c(e){var t=(0,d.Z)();return r.createElement(u,(0,a.Z)({key:String(t)},e))}},9443:function(e,t,n){var a=(0,n(7294).createContext)(void 0);t.Z=a},7634:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return c},default:function(){return k}});var a=n(7462),r=n(3366),d=(n(7294),n(3905)),i=n(6396),o=n(8215),l=["components"],p={sidebar_position:1},s="did:evan (sidetree)",u={unversionedId:"plugins/dids/sidetree",id:"plugins/dids/sidetree",isDocsHomePage:!1,title:"did:evan (sidetree)",description:"[vade-sidetree] plugin allows you to create,update and read DIDs based on sidetree implementation.",source:"@site/docs/plugins/dids/sidetree.mdx",sourceDirName:"plugins/dids",slug:"/plugins/dids/sidetree",permalink:"/vade-docs/docs/plugins/dids/sidetree",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"did:evan",permalink:"/vade-docs/docs/plugins/dids/evan"},next:{title:"Universal Resolver",permalink:"/vade-docs/docs/plugins/dids/uniresolver"}},c=[{value:"Usage",id:"usage",children:[{value:"Addkey",id:"addkey",children:[],level:4},{value:"Add Service",id:"add-service",children:[],level:4},{value:"Remove Service",id:"remove-service",children:[],level:4}],level:2}],m={toc:c};function k(e){var t=e.components,n=(0,r.Z)(e,l);return(0,d.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,d.kt)("h1",{id:"didevan-sidetree"},"did:evan (sidetree)"),(0,d.kt)("p",null,(0,d.kt)("a",{parentName:"p",href:"#"},(0,d.kt)("inlineCode",{parentName:"a"},"vade-sidetree"))," plugin allows you to create,update and read DIDs based on sidetree implementation."),(0,d.kt)("p",null,"It implements the following ",(0,d.kt)("a",{parentName:"p",href:"https://docs.rs/vade/*/vade/trait.VadePlugin.html"},(0,d.kt)("inlineCode",{parentName:"a"},"VadePlugin"))," functions:"),(0,d.kt)("ul",null,(0,d.kt)("li",{parentName:"ul"},(0,d.kt)("a",{parentName:"li",href:"/docs/references#did_create"},(0,d.kt)("inlineCode",{parentName:"a"},"did_create"))),(0,d.kt)("li",{parentName:"ul"},(0,d.kt)("a",{parentName:"li",href:"/docs/references#did_resolve"},(0,d.kt)("inlineCode",{parentName:"a"},"did_resolve"))),(0,d.kt)("li",{parentName:"ul"},(0,d.kt)("a",{parentName:"li",href:"/docs/references#did_update"},(0,d.kt)("inlineCode",{parentName:"a"},"did_update")))),(0,d.kt)("h2",{id:"usage"},"Usage"),(0,d.kt)("ul",null,(0,d.kt)("li",{parentName:"ul"},(0,d.kt)("h3",{parentName:"li",id:"did_create"},(0,d.kt)("a",{parentName:"h3",href:"/docs/references#did_create"},(0,d.kt)("inlineCode",{parentName:"a"},"did_create"))))),(0,d.kt)("p",null,"Requires following params to be passed"),(0,d.kt)("table",null,(0,d.kt)("thead",{parentName:"table"},(0,d.kt)("tr",{parentName:"thead"},(0,d.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,d.kt)("th",{parentName:"tr",align:null},"Description"))),(0,d.kt)("tbody",{parentName:"table"},(0,d.kt)("tr",{parentName:"tbody"},(0,d.kt)("td",{parentName:"tr",align:null},"options"),(0,d.kt)("td",{parentName:"tr",align:null},"type property has to be passed to indicate the did implementation to be used")),(0,d.kt)("tr",{parentName:"tbody"},(0,d.kt)("td",{parentName:"tr",align:null},"method"),(0,d.kt)("td",{parentName:"tr",align:null},'DID method, in our case the method is "did:evan"')))),(0,d.kt)(i.Z,{groupId:"vade_input",mdxType:"Tabs"},(0,d.kt)(o.Z,{value:"json_args",label:"Vade Cli",mdxType:"TabItem"},(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'options={"type":"sidetree"}\n\nmethod="did:evan"\n')),(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-sh"},"./vade_evan_cli did create --method $method --options $options\n\n"))),(0,d.kt)(o.Z,{value:"output",label:"Vade Output",mdxType:"TabItem"},(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "update_key":{\n      "kty":"EC",\n      "crv":"secp256k1",\n      "x":"7-pRhpQ8sV1kHL443G6EFJnWXdSmUBv1ZqOHeBC1Ymk",\n      "y":"TjI-Muag1hkfSUk2FNHKetS8II13OwCDD2cjWfWBtrA",\n      "d":"fBCJHYcKnHV4Vc1MUsmffQLEB3kLc9gnpWrSXiKQlp0"\n   },\n   "recovery_key":{\n      "kty":"EC",\n      "crv":"secp256k1",\n      "x":"_ph315rHW-VF6as-nrdaV4r_N4mE8-Fe3HmsI0LeJBY",\n      "y":"R4YEjaDEP_jfQIKY8rAOEl2XbGvJ6-kp2vqyzM0liO8",\n      "d":"gnO2SjmWhu6P7ePvMQaXvfZRTfVkEPjEr9BVP8q2QOA"\n   },\n   "did":{\n      "@context":"https://w3id.org/did-resolution/v1",\n      "didDocument":{\n         "id":"did:evan:EiC7uIezuR8EpwSP2P6DINtl_VkbaA6qmPTzr_22BJtZtg",\n         "@context":[\n            "https://www.w3.org/ns/did/v1",\n            "https://ns.did.ai/transmute/v1",\n            {\n               "@base":"did:evan:EiC7uIezuR8EpwSP2P6DINtl_VkbaA6qmPTzr_22BJtZtg"\n            }\n         ],\n         "keyAgreement":[\n            {\n               "id":"#key-1",\n               "controller":"did:evan:EiC7uIezuR8EpwSP2P6DINtl_VkbaA6qmPTzr_22BJtZtg",\n               "type":"EcdsaSecp256k1VerificationKey2019",\n               "publicKeyJwk":{\n                  "kty":"EC",\n                  "crv":"secp256k1",\n                  "x":"TkWKbz5ZfAYTCt7miLXO9CxsRguumhs4q-1Ky3PtGb8",\n                  "y":"UnvZsjI0KigY0o9AXsXk86keK7J7x-B2xtc0yZcn4HA"\n               }\n            }\n         ],\n         "service":null\n      },\n      "didDocumentMetadata":{\n         "recoveryCommitment":"EiA2YL0BWPQd9cmRRkZ8R0II2NdpVwlvmRHd1pqByrk5JA",\n         "updateCommitment":"EiDT0mi3vtYMy5LDHN6dvbL7OHDGlAvb3eKlbBDdn04DvA"\n      }\n   }\n}\n')))),(0,d.kt)("ul",null,(0,d.kt)("li",{parentName:"ul"},(0,d.kt)("h3",{parentName:"li",id:"did_resolve"},(0,d.kt)("a",{parentName:"h3",href:"/docs/references#did_resolve"},(0,d.kt)("inlineCode",{parentName:"a"},"did_resolve"))))),(0,d.kt)(i.Z,{groupId:"vade_input",mdxType:"Tabs"},(0,d.kt)(o.Z,{value:"json_args",label:"Vade Cli",mdxType:"TabItem"},(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-sh"},"./vade_evan_cli did resolve --did did:evan:EiC7uIezuR8EpwSP2P6DINtl_VkbaA6qmPTzr_22BJtZtg\n"))),(0,d.kt)(o.Z,{value:"Output",label:"Vade output",mdxType:"TabItem"},(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "@context":"https://w3id.org/did-resolution/v1",\n   "didDocument":{\n      "@context":[\n         "https://www.w3.org/ns/did/v1",\n         "https://ns.did.ai/transmute/v1",\n         {\n            "@base":"did:evan:EiC7uIezuR8EpwSP2P6DINtl_VkbaA6qmPTzr_22BJtZtg"\n         }\n      ],\n      "id":"did:evan:EiC7uIezuR8EpwSP2P6DINtl_VkbaA6qmPTzr_22BJtZtg",\n      "keyAgreement":[\n         {\n            "id":"#key-1",\n            "controller":"did:evan:EiC7uIezuR8EpwSP2P6DINtl_VkbaA6qmPTzr_22BJtZtg",\n            "type":"EcdsaSecp256k1VerificationKey2019",\n            "publicKeyJwk":{\n               "kty":"EC",\n               "crv":"secp256k1",\n               "x":"TkWKbz5ZfAYTCt7miLXO9CxsRguumhs4q-1Ky3PtGb8",\n               "y":"UnvZsjI0KigY0o9AXsXk86keK7J7x-B2xtc0yZcn4HA"\n            }\n         }\n      ]\n   },\n   "didDocumentMetadata":{\n      "recoveryCommitment":"EiA2YL0BWPQd9cmRRkZ8R0II2NdpVwlvmRHd1pqByrk5JA",\n      "updateCommitment":"EiDT0mi3vtYMy5LDHN6dvbL7OHDGlAvb3eKlbBDdn04DvA"\n   }\n}\n')))),(0,d.kt)("ul",null,(0,d.kt)("li",{parentName:"ul"},(0,d.kt)("h3",{parentName:"li",id:"did_update"},(0,d.kt)("a",{parentName:"h3",href:"/docs/references#did_update"},(0,d.kt)("inlineCode",{parentName:"a"},"did_update"))))),(0,d.kt)("p",null,"Updates data related to a DID. Updates are supported as per ",(0,d.kt)("a",{parentName:"p",href:"https://identity.foundation/sidetree/spec/#update"},"Sidetree documentation"),"."),(0,d.kt)("table",null,(0,d.kt)("thead",{parentName:"table"},(0,d.kt)("tr",{parentName:"thead"},(0,d.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,d.kt)("th",{parentName:"tr",align:null},"Description"))),(0,d.kt)("tbody",{parentName:"table"},(0,d.kt)("tr",{parentName:"tbody"},(0,d.kt)("td",{parentName:"tr",align:null},"did"),(0,d.kt)("td",{parentName:"tr",align:null},"DID to be updated")),(0,d.kt)("tr",{parentName:"tbody"},(0,d.kt)("td",{parentName:"tr",align:null},"options"),(0,d.kt)("td",{parentName:"tr",align:null},"type property has to be passed to indicate the did implementation to be used")),(0,d.kt)("tr",{parentName:"tbody"},(0,d.kt)("td",{parentName:"tr",align:null},"payload"),(0,d.kt)("td",{parentName:"tr",align:null},"object of ",(0,d.kt)("a",{parentName:"td",href:"/docs/references#didupdatepayload"},(0,d.kt)("inlineCode",{parentName:"a"},"DidUpdatePayload")))))),(0,d.kt)("p",null,"Following type of updates are possible with sidetree based implementation."),(0,d.kt)("h4",{id:"addkey"},"Addkey"),(0,d.kt)("p",null,"To add key we need some details from did_create output, e.g following is the output of did_create and corresponding did_update payload for add key operation."),(0,d.kt)(i.Z,{groupId:"vade_input",mdxType:"Tabs"},(0,d.kt)(o.Z,{value:"create_key",label:"Create key Output",mdxType:"TabItem"},(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "update_key":{\n      "kty":"EC",\n      "crv":"secp256k1",\n      "x":"dUVoi-cP49f8NU0xdvx2NwrrsciWOIVzTVha2cysKI8",\n      "y":"P7GErcsOHwSCXVp3EH9HXT-akrbR0eZ7Z1CFfcJ0Eo8",\n      "d":"jkHKQyybb1EL6wI8O_JFYb275Pq46Vs1fvvfMVA9ncs"\n   },\n   "recovery_key":{\n      "kty":"EC",\n      "crv":"secp256k1",\n      "x":"ht0VGXEMdYihLoJR0wZpRRuXVRJEvrjOt20qZ77rTmw",\n      "y":"BlGVlYtaedI0pP0wWuGtG6lTePCobNguyxnrjDzuzOk",\n      "d":"LHmoSspXNjhOi0iERscGqCyFbKNwUxOpeom-Dqckwjo"\n   },\n   "did":{\n      "@context":"https://w3id.org/did-resolution/v1",\n      "didDocument":{\n         "id":"did:evan:EiBxTar2-k1T_qvoXUbwtbGF6U6Rp9P2xfzZxaSdIU2WVw",\n         "@context":[\n            "https://www.w3.org/ns/did/v1",\n            "https://ns.did.ai/transmute/v1",\n            {\n               "@base":"did:evan:EiBxTar2-k1T_qvoXUbwtbGF6U6Rp9P2xfzZxaSdIU2WVw"\n            }\n         ],\n         "keyAgreement":[\n            {\n               "id":"#key-1",\n               "controller":"did:evan:EiBxTar2-k1T_qvoXUbwtbGF6U6Rp9P2xfzZxaSdIU2WVw",\n               "type":"EcdsaSecp256k1VerificationKey2019",\n               "publicKeyJwk":{\n                  "kty":"EC",\n                  "crv":"secp256k1",\n                  "x":"0KBt2gQ83ispsziw0CVju3VJxJ8AaSpL0cFmWDULwsY",\n                  "y":"0SLYbjLbeEFxAjqcNjCInKP3Gk6qO2pLo-h_ZabwyrY"\n               }\n            }\n         ],\n         "service":null\n      },\n      "didDocumentMetadata":{\n         "recoveryCommitment":"EiDjHkZ0lTX3OHC3Jbkpo1OL-F3AtOwJ5DjpnjdpsecoQg",\n         "updateCommitment":"EiA5fQ5a68T0iSq_IFIqQH60WoomPGgayxsZbhn-RNgVIw"\n      }\n   }\n}\n'))),(0,d.kt)(o.Z,{value:"did_update",label:"did_update params",mdxType:"TabItem"},(0,d.kt)("p",null,"For detailed information about params please visit ",(0,d.kt)("a",{parentName:"p",href:"https://identity.foundation/sidetree/spec/#update"},"Sidetree documentation"),"."),(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'options={"type":"sidetree"}\n\ndid="did:evan:EiBxTar2-k1T_qvoXUbwtbGF6U6Rp9P2xfzZxaSdIU2WVw"\n\npayload={"update_type":"update","update_key":{"kty":"EC","crv":"secp256k1","x":"dUVoi-cP49f8NU0xdvx2NwrrsciWOIVzTVha2cysKI8","y":"P7GErcsOHwSCXVp3EH9HXT-akrbR0eZ7Z1CFfcJ0Eo8","d":"jkHKQyybb1EL6wI8O_JFYb275Pq46Vs1fvvfMVA9ncs"},"recovery_key":null,"update_commitment":"EiDwa_i-HpZ7g5NYtGbjVy0BbMqdtawejkbtpwnC2GDZTw","recovery_commitment":null,"patches":[{"action":"add-public-keys","public_keys":[{"id":"update_key","type":"EcdsaSecp256k1VerificationKey2019","purpose":["agreement"],"jwk":{"kty":"EC","crv":"secp256k1","x":"dAN12kchKHHDgh8hpwk2UY-m3t9VfKh5C4KeZjPKAaM","y":"3Pbygl7ysqvj9kJMUUCMNWR9bgXlmfGvdjD9Avj4in0"}}]}]}\n')),(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-sh"},"./vade_evan_cli did update --did $did --options $options --payload $payload\n")))),(0,d.kt)("h4",{id:"add-service"},"Add Service"),(0,d.kt)("p",null,"To add service we need some details from did_create output, e.g following is the output of did_create and corresponding did_update payload for add service operation."),(0,d.kt)(i.Z,{groupId:"vade_input",mdxType:"Tabs"},(0,d.kt)(o.Z,{value:"create_key",label:"Create key Output",mdxType:"TabItem"},(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "update_key":{\n      "kty":"EC",\n      "crv":"secp256k1",\n      "x":"HGYPQwfFgIulDxceg_-yTJUOEebgKQM_eSXyv_oQkOY",\n      "y":"WNoUOrVanw3Jh3Ayuotkka9q-m_Ds2MeKUcRJFLPaVs",\n      "d":"F_au0HfIfGKdL66VYcxOa8rYhRCLz3tiXIojAoYl1JE"\n   },\n   "recovery_key":{\n      "kty":"EC",\n      "crv":"secp256k1",\n      "x":"LTx1AWbqLaoDr5T9PGmCNyuaakgNJdMILkFn5asM1UE",\n      "y":"UzdtqDfuxeYLy6C2KYTsl-iUXZbgGqVtIwUAKcwPpXc",\n      "d":"hIU0XbvvcFibxbKpoNItzqU0me-NZ_UmawWScJUZjhI"\n   },\n   "did":{\n      "@context":"https://w3id.org/did-resolution/v1",\n      "didDocument":{\n         "id":"did:evan:EiC7r9wqZ9BiV8y37ShX1Wzfb_x-OjYUdNOrRWt8oYSiRQ",\n         "@context":[\n            "https://www.w3.org/ns/did/v1",\n            "https://ns.did.ai/transmute/v1",\n            {\n               "@base":"did:evan:EiC7r9wqZ9BiV8y37ShX1Wzfb_x-OjYUdNOrRWt8oYSiRQ"\n            }\n         ],\n         "keyAgreement":[\n            {\n               "id":"#key-1",\n               "controller":"did:evan:EiC7r9wqZ9BiV8y37ShX1Wzfb_x-OjYUdNOrRWt8oYSiRQ",\n               "type":"EcdsaSecp256k1VerificationKey2019",\n               "publicKeyJwk":{\n                  "kty":"EC",\n                  "crv":"secp256k1",\n                  "x":"AOcmat2SXqFIpn6lVfKSIv45bcV883mzHus5mZzjsX4",\n                  "y":"FP-AKa-aeResq3bhAz8EDKh6t_SLO-PSrA-55-N3TO0"\n               }\n            }\n         ],\n         "service":null\n      },\n      "didDocumentMetadata":{\n         "recoveryCommitment":"EiBDIQ2Lej5eVh6WfzTTqmRl5YaLSuPniHluJ4gJSaPFNg",\n         "updateCommitment":"EiBTghKIkbtcS3l1eAz0l-FHP9mI_wIOKxEa_TgeZ6toeQ"\n      }\n   }\n}\n'))),(0,d.kt)(o.Z,{value:"did_update",label:"did_update params",mdxType:"TabItem"},(0,d.kt)("p",null,"For detailed information about params please visit ",(0,d.kt)("a",{parentName:"p",href:"https://identity.foundation/sidetree/spec/#update"},"Sidetree documentation"),"."),(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'options={"type":"sidetree"}\n\ndid="did:evan:EiC7r9wqZ9BiV8y37ShX1Wzfb_x-OjYUdNOrRWt8oYSiRQ"\n\npayload={"update_type":"update","update_key":{"kty":"EC","crv":"secp256k1","x":"HGYPQwfFgIulDxceg_-yTJUOEebgKQM_eSXyv_oQkOY","y":"WNoUOrVanw3Jh3Ayuotkka9q-m_Ds2MeKUcRJFLPaVs","d":"F_au0HfIfGKdL66VYcxOa8rYhRCLz3tiXIojAoYl1JE"},"recovery_key":null,"update_commitment":"EiDbplHWF4Tj5l5EjIx69NktBS685LHqs3yTI4a_hn2t6Q","recovery_commitment":null,"patches":[{"action":"add-service-endpoints","service_endpoints":[{"id":"sds","type":"SecureDataStrore","endpoint":"https://w3id.org/did-resolution/v1"}]}]}\n')),(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-sh"},"./vade_evan_cli did update --did $did --options $options --payload $payload\n")))),(0,d.kt)("h4",{id:"remove-service"},"Remove Service"),(0,d.kt)("p",null,"To remove service we need some details from did_create output, e.g following is the output of did_create and corresponding did_update payload for add service operation."),(0,d.kt)(i.Z,{groupId:"vade_input",mdxType:"Tabs"},(0,d.kt)(o.Z,{value:"create_key",label:"Create key Output",mdxType:"TabItem"},(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "update_key":{\n      "kty":"EC",\n      "crv":"secp256k1",\n      "x":"oKI9i4X4oKV3f6dmV_TcDA5JQJ2Gqmc6luS-jXfZ-2s",\n      "y":"1Vn70Z4WFhQkxy6PquaurkpvB68J5DcwTY2M17hFqVw",\n      "d":"bo5WeoIsZhUl6o-okJUOothJ9EfkmFZz5SWmb_x-W2c"\n   },\n   "recovery_key":{\n      "kty":"EC",\n      "crv":"secp256k1",\n      "x":"d5YoP03mA4Yc6zS-kt3x88lY1-BnrDYs65SHxuNHDBc",\n      "y":"JUCjkELk1EA0-RnZ92BFw4G6jYqlGhUv8g-OHdnEFbA",\n      "d":"YTx8uc-rGUusSmheOJDC406oWK0l1fp3fNgBpuQBLSg"\n   },\n   "did":{\n      "@context":"https://w3id.org/did-resolution/v1",\n      "didDocument":{\n         "id":"did:evan:EiA-AS9fbd-pD87z81A21GK-rLmkyEZt2L99nsY4mY9ZXw",\n         "@context":[\n            "https://www.w3.org/ns/did/v1",\n            "https://ns.did.ai/transmute/v1",\n            {\n               "@base":"did:evan:EiA-AS9fbd-pD87z81A21GK-rLmkyEZt2L99nsY4mY9ZXw"\n            }\n         ],\n         "keyAgreement":[\n            {\n               "id":"#key-1",\n               "controller":"did:evan:EiA-AS9fbd-pD87z81A21GK-rLmkyEZt2L99nsY4mY9ZXw",\n               "type":"EcdsaSecp256k1VerificationKey2019",\n               "publicKeyJwk":{\n                  "kty":"EC",\n                  "crv":"secp256k1",\n                  "x":"RMy03chKzaC3d2BR7FQAjBtas2qY0cCl0pxQBQIw8Rw",\n                  "y":"mIm2FztNVSQOMkBwuJUCB5e7Q0Zm0nyLy13_76-1Xrk"\n               }\n            }\n         ],\n         "service":null\n      },\n      "didDocumentMetadata":{\n         "recoveryCommitment":"EiBt_-JinFdmlufuuk4mTG-3onxOCBseOALOTkuZ4NwboA",\n         "updateCommitment":"EiCF6UJwdLzXZiFy8YzaUDCH7ku7CGV216Xkhyy0wJWCqw"\n      }\n   }\n}\n'))),(0,d.kt)(o.Z,{value:"did_update",label:"did_update params",mdxType:"TabItem"},(0,d.kt)("p",null,"For detailed information about params please visit ",(0,d.kt)("a",{parentName:"p",href:"https://identity.foundation/sidetree/spec/#update"},"Sidetree documentation"),"."),(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'options={"type":"sidetree"}\n\ndid="did:evan:EiA-AS9fbd-pD87z81A21GK-rLmkyEZt2L99nsY4mY9ZXw"\n\npayload={"update_type":"update","update_key":{"kty":"EC","crv":"secp256k1","x":"2N3fjBQro7NnNO8Y_yy-Q8o4BeM-Xf5n5G7SRapXIuU","y":"8oYnJmR-Ctke3iBOIJNN_xSVBgs5tjIfpbGqBvQFv1o","d":"EWailQZtd6w5u94gd06oNxq1KEwG8qM76X8grQO5iF4"},"recovery_key":null,"update_commitment":"EiCE50W368yRVL6akLxz-HV-vj40yAN8H5GSN9fi3AmU2g","recovery_commitment":null,"patches":[{"action":"remove-service-endpoints","ids":["sds"]}]}\n')),(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-sh"},"./vade_evan_cli did update --did $did --options $options --payload $payload\n")))),(0,d.kt)("ul",null,(0,d.kt)("li",{parentName:"ul"},(0,d.kt)("h3",{parentName:"li",id:"recover-a-did-with-sidetree"},"Recover a DID with sidetree"))),(0,d.kt)("p",null,"With recover operation, we can reset the DID Document when the update key is lost."),(0,d.kt)(i.Z,{groupId:"vade_input",mdxType:"Tabs"},(0,d.kt)(o.Z,{value:"create_key",label:"Create key Output",mdxType:"TabItem"},(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "update_key":{\n      "kty":"EC",\n      "crv":"secp256k1",\n      "x":"RsXtxDG7vVDji_YWoTvdab-PoERDM3CvAZSplzSwXC0",\n      "y":"BBTcawafQLBvNAs13_KnFGoz4Ek4eJgfWEG7nCC1edg",\n      "d":"-EHmAJ29wI16KmNnOgRDU3mrJhQDGFSUj3jSWzPXW2g"\n   },\n   "recovery_key":{\n      "kty":"EC",\n      "crv":"secp256k1",\n      "x":"64SVzHzVaI7lXPqSWTao_GmzUZLY3KjAJhZ5jskSBpU",\n      "y":"bC5ESdsm6SfvbiIzwdIZQApWPzp6ZNpNcuEPanhLG-M",\n      "d":"362OQHKbBgmFxToIjbvbNJtw5ek5glN3xNwkUkZwaPw"\n   },\n   "did":{\n      "@context":"https://w3id.org/did-resolution/v1",\n      "didDocument":{\n         "id":"did:evan:EiBaEtcaprzTyUhoRdXjK1fGerAr6APIc6u9pT--EOK4nQ",\n         "@context":[\n            "https://www.w3.org/ns/did/v1",\n            "https://ns.did.ai/transmute/v1",\n            {\n               "@base":"did:evan:EiBaEtcaprzTyUhoRdXjK1fGerAr6APIc6u9pT--EOK4nQ"\n            }\n         ],\n         "keyAgreement":[\n            {\n               "id":"#key-1",\n               "controller":"did:evan:EiBaEtcaprzTyUhoRdXjK1fGerAr6APIc6u9pT--EOK4nQ",\n               "type":"EcdsaSecp256k1VerificationKey2019",\n               "publicKeyJwk":{\n                  "kty":"EC",\n                  "crv":"secp256k1",\n                  "x":"9vQYMhGlNt_d9spqSoP6YynP37RkWLVJTggyAvg7XBA",\n                  "y":"u_pKsB03edAoyq7xdezGk8Mv4lLVZZR0BHPi9ksLJgA"\n               }\n            }\n         ],\n         "service":null\n      },\n      "didDocumentMetadata":{\n         "recoveryCommitment":"EiDkrgs7TO2_EMGGXiJ-NNNuoF0T72KrBGYgMcrqKN5zPA",\n         "updateCommitment":"EiArlQtyN9JefMxscMz05wcm0sZC3kGgDFYPgCmnQ-KWGw"\n      }\n   }\n}\n'))),(0,d.kt)(o.Z,{value:"did_update",label:"did_update params",mdxType:"TabItem"},(0,d.kt)("p",null,"For detailed information about params please visit ",(0,d.kt)("a",{parentName:"p",href:"https://identity.foundation/sidetree/spec/#update"},"Sidetree documentation"),"."),(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'options={"type":"sidetree"}\n\ndid="did:evan:EiBaEtcaprzTyUhoRdXjK1fGerAr6APIc6u9pT--EOK4nQ"\n\npayload={"update_type":"recovery","update_key":{"kty":"EC","crv":"secp256k1","x":"cIqVlAoU7pBhuJsjzmhQbp1WyKfN2ehXV-cLOdEaeKI","y":"zsfs6u3EOc3udT3XM006zLVS6tdvoRWTVoha3IJPs5Q"},"recovery_key":{"kty":"EC","crv":"secp256k1","x":"64SVzHzVaI7lXPqSWTao_GmzUZLY3KjAJhZ5jskSBpU","y":"bC5ESdsm6SfvbiIzwdIZQApWPzp6ZNpNcuEPanhLG-M","d":"362OQHKbBgmFxToIjbvbNJtw5ek5glN3xNwkUkZwaPw"},"update_commitment":"EiDSDfaKcrXoJcc5my_9QYlZYxhJoNMZL7GI9sQk06Aphw","recovery_commitment":"EiDOQ0qK0cDKetIKT8QeGNU_nyaz88ZJwGDF3pgSQ4iKKQ","patches":[{"action":"replace","document":{"public_keys":[{"id":"doc_key","type":"EcdsaSecp256k1VerificationKey2019","purpose":["agreement"],"jwk":{"kty":"EC","crv":"secp256k1","x":"cIqVlAoU7pBhuJsjzmhQbp1WyKfN2ehXV-cLOdEaeKI","y":"zsfs6u3EOc3udT3XM006zLVS6tdvoRWTVoha3IJPs5Q"}}]}}]}\n')),(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-sh"},"./vade_evan_cli did update --did $did --options $options --payload $payload\n"))),(0,d.kt)(o.Z,{value:"did_resolve",label:"did_resolve output after recovery",mdxType:"TabItem"},(0,d.kt)("pre",null,(0,d.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "@context":"https://w3id.org/did-resolution/v1",\n   "didDocument":{\n      "@context":[\n         "https://www.w3.org/ns/did/v1",\n         "https://ns.did.ai/transmute/v1",\n         {\n            "@base":"did:evan:EiBaEtcaprzTyUhoRdXjK1fGerAr6APIc6u9pT--EOK4nQ"\n         }\n      ],\n      "id":"did:evan:EiBaEtcaprzTyUhoRdXjK1fGerAr6APIc6u9pT--EOK4nQ",\n      "keyAgreement":[\n         {\n            "id":"#doc_key",\n            "controller":"did:evan:EiBaEtcaprzTyUhoRdXjK1fGerAr6APIc6u9pT--EOK4nQ",\n            "type":"EcdsaSecp256k1VerificationKey2019",\n            "publicKeyJwk":{\n               "kty":"EC",\n               "crv":"secp256k1",\n               "x":"cIqVlAoU7pBhuJsjzmhQbp1WyKfN2ehXV-cLOdEaeKI",\n               "y":"zsfs6u3EOc3udT3XM006zLVS6tdvoRWTVoha3IJPs5Q"\n            }\n         }\n      ]\n   },\n   "didDocumentMetadata":{\n      "recoveryCommitment":"EiDOQ0qK0cDKetIKT8QeGNU_nyaz88ZJwGDF3pgSQ4iKKQ",\n      "updateCommitment":"EiDSDfaKcrXoJcc5my_9QYlZYxhJoNMZL7GI9sQk06Aphw"\n   }\n}\n')))))}k.isMDXComponent=!0}}]);