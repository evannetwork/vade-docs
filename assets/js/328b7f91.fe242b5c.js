"use strict";(self.webpackChunkvade_docs=self.webpackChunkvade_docs||[]).push([[8847],{3905:function(e,n,t){t.d(n,{Zo:function(){return o},kt:function(){return m}});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=a.createContext({}),s=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):d(d({},n),e)),t},o=function(e){var n=s(e.components);return a.createElement(c.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,o=l(e,["components","mdxType","originalType","parentName"]),u=s(t),m=i,f=u["".concat(c,".").concat(m)]||u[m]||p[m]||r;return t?a.createElement(f,d(d({ref:n},o),{},{components:t})):a.createElement(f,d({ref:n},o))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,d=new Array(r);d[0]=u;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:i,d[1]=l;for(var s=2;s<r;s++)d[s]=t[s];return a.createElement.apply(null,d)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},3225:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return s},toc:function(){return o},default:function(){return u}});var a=t(7462),i=t(3366),r=(t(7294),t(3905)),d=["components"],l={sidebar_position:1},c="JWT",s={unversionedId:"plugins/credentials/jwt",id:"plugins/credentials/jwt",isDocsHomePage:!1,title:"JWT",description:"[vade-jwt-vc] plugin supports less restrictive credentials, it issues VC with a simple JWT Signature Based on the SECP256K1 curve.",source:"@site/docs/plugins/credentials/jwt.md",sourceDirName:"plugins/credentials",slug:"/plugins/credentials/jwt",permalink:"/vade-docs/docs/plugins/credentials/jwt",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/plugins/credentials/jwt.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"CL AnonCreds",permalink:"/vade-docs/docs/plugins/credentials/cl"},next:{title:"did:evan",permalink:"/vade-docs/docs/plugins/dids/evan"}},o=[{value:"Usage",id:"usage",children:[],level:2},{value:"Issue and Verifying Credential with JWT",id:"issue-and-verifying-credential-with-jwt",children:[{value:"Issue Credential example using vade-evan-cli",id:"issue-credential-example-using-vade-evan-cli",children:[],level:3},{value:"Verify Credential example using vade-evan-cli",id:"verify-credential-example-using-vade-evan-cli",children:[],level:3}],level:2}],p={toc:o};function u(e){var n=e.components,t=(0,i.Z)(e,d);return(0,r.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"jwt"},"JWT"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"#"},(0,r.kt)("inlineCode",{parentName:"a"},"vade-jwt-vc"))," plugin supports less restrictive credentials, it issues VC with a simple JWT Signature Based on the SECP256K1 curve."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"#"},(0,r.kt)("inlineCode",{parentName:"a"},"vade-jwt-vc"))," currently offers:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Signing of ",(0,r.kt)("a",{parentName:"p",href:"/docs/references#unsignedcredential"},(0,r.kt)("inlineCode",{parentName:"a"},"UnsignedCredential"))," just like in the ",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/vc-data-model/#example-1-a-simple-example-of-a-verifiable-credential"},'W3C Datamodel "Example 1" Verifiable Credentials'),"  Data Model v1.1 (but without the proof)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Verification of proof from Signed Credential."))),(0,r.kt)("p",null,"It implements the following ",(0,r.kt)("a",{parentName:"p",href:"https://docs.rs/vade/*/vade/trait.VadePlugin.html"},(0,r.kt)("inlineCode",{parentName:"a"},"VadePlugin"))," functions:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/references#vc_zkp_issue_credential"},(0,r.kt)("inlineCode",{parentName:"a"},"vc_zkp_issue_credential"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docs/references#vc_zkp_verify_proof"},(0,r.kt)("inlineCode",{parentName:"a"},"vc_zkp_verify_proof")))),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"vc_zkp_issue_credential"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The passed payload will be an object of ",(0,r.kt)("a",{parentName:"li",href:"/docs/references#issuecredentialpayload"},(0,r.kt)("inlineCode",{parentName:"a"},"IssueCredentialPayload")),", which contains ",(0,r.kt)("a",{parentName:"li",href:"/docs/references#unsignedcredential"},(0,r.kt)("inlineCode",{parentName:"a"},"UnsignedCredential"))," to be signed. "),(0,r.kt)("li",{parentName:"ul"},"The Options will be an object of ",(0,r.kt)("a",{parentName:"li",href:"/docs/references#signeroptions"},(0,r.kt)("inlineCode",{parentName:"a"},"SignerOptions")),", which contains Private key to create Signature and type to indicate that request should be handled by jwt plugin only."),(0,r.kt)("li",{parentName:"ul"},"Output will be an object of ",(0,r.kt)("a",{parentName:"li",href:"/docs/references#credential"},(0,r.kt)("inlineCode",{parentName:"a"},"Credential")),".")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"vc_zkp_verify_proof"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The passed payload will be an Object of ",(0,r.kt)("a",{parentName:"li",href:"/docs/references#verifyproofpayload"},(0,r.kt)("inlineCode",{parentName:"a"},"VerifyProofPayload")),", which contains ",(0,r.kt)("a",{parentName:"li",href:"/docs/references#credential"},(0,r.kt)("inlineCode",{parentName:"a"},"Credential"))," to be verifed. "),(0,r.kt)("li",{parentName:"ul"},"The Options will be an object of ",(0,r.kt)("inlineCode",{parentName:"li"},"TypeOptions"),', it has type paratmeter which should have value as "jwt" string constant.'),(0,r.kt)("li",{parentName:"ul"},"Output will be an object of ",(0,r.kt)("a",{parentName:"li",href:"/docs/references#proofverification"},(0,r.kt)("inlineCode",{parentName:"a"},"ProofVerification")),".")),(0,r.kt)("h2",{id:"issue-and-verifying-credential-with-jwt"},"Issue and Verifying Credential with JWT"),(0,r.kt)("h3",{id:"issue-credential-example-using-vade-evan-cli"},"Issue Credential example using vade-evan-cli"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'method=did:evan\n\noptions={\n   "privateKey":"dfcdcb6d5d09411ae9cbe1b0fd9751ba8803dd4b276d5bf9488ae4ede2669106",\n   "identity":"did:evan:testcore:0x0d87204c3957d73b68ae28d0af961d3c72403906",\n   "type":"jwt"\n}\n\npayload={\n   "unsignedVc":{\n      "@context":[\n         "https://www.w3.org/2018/credentials/v1",\n         "https:://schema.org",\n         "https://w3id.org/vc-status-list-2021/v1"\n      ],\n      "id":"94450c72-5dc4-4e46-8df0-106819064656",\n      "type":[\n         "VerifiableCredential"\n      ],\n      "issuer":"did:evan:testcore:0x6240cedfc840579b7fdcd686bdc65a9a8c42dea6",\n      "issuanceDate":"2021-04-20T08:35:56+0000",\n      "credentialSubject":{\n         "id":"did:evan:testcore:0x67ce8b01b3b75a9ba4a1462139a1edaa0d2f539f",\n         "data":{\n            "test_property_string":"value",\n            "test_property_string3":"value",\n            "test_property_string4":"value",\n            "test_property_string2":"value",\n            "test_property_string1":"value"\n         }\n      },\n      "credentialSchema":{\n         "id":"did:evan:zkp:0xd641c26161e769cef4b41760211972b274a8f37f135a34083e4e48b3f1035eda",\n         "type":"EvanZKPSchema"\n      },\n      "credentialStatus":{\n         "id":"did:evan:zkp:0xcac3f4186e273083820c8c59f3c52efb713a755de255d0eb997b4990253ea388#0",\n         "type":"RevocationList2021Status",\n         "revocationListIndex":"1",\n         "revocationListCredential":"did:evan:zkp:0xcac3f4186e273083820c8c59f3c52efb713a755de255d0eb997b4990253ea388"\n      }\n   },\n   "issuerPublicKeyId":"did:evan:testcore:0x6240cedfc840579b7fdcd686bdc65a9a8c42dea6#key-1",\n   "issuerPublicKey":"jCv7l26izalfcsFe6j/IqtVlDolo2Y3lNld7xOG63GjSNHBVWrvZQe2O859q9JeVEV4yXtfYofGQSWrMVfgH5ySbuHpQj4fSgLu4xXyFgMidUO1sIe0NHRcXpOorP01o"\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"./vade_evan_cli vc_zkp issue_credential --method $method --options $options --payload $payload\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Output: Output is ",(0,r.kt)("a",{parentName:"li",href:"/docs/references#credential"},(0,r.kt)("inlineCode",{parentName:"a"},"Credential"))," object with proof")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "@context":[\n      "https://www.w3.org/2018/credentials/v1",\n      "https:://schema.org",\n      "https://w3id.org/vc-status-list-2021/v1"\n   ],\n   "id":"94450c72-5dc4-4e46-8df0-106819064656",\n   "type":[\n      "VerifiableCredential"\n   ],\n   "issuer":"did:evan:testcore:0x6240cedfc840579b7fdcd686bdc65a9a8c42dea6",\n   "issuanceDate":"2021-04-20T08:35:56+0000",\n   "credentialSubject":{\n      "id":"did:evan:testcore:0x67ce8b01b3b75a9ba4a1462139a1edaa0d2f539f",\n      "data":{\n         "test_property_string3":"value",\n         "test_property_string2":"value",\n         "test_property_string4":"value",\n         "test_property_string1":"value",\n         "test_property_string":"value"\n      }\n   },\n   "credentialSchema":{\n      "id":"did:evan:zkp:0xd641c26161e769cef4b41760211972b274a8f37f135a34083e4e48b3f1035eda",\n      "type":"EvanZKPSchema"\n   },\n   "credentialStatus":{\n      "id":"did:evan:zkp:0xcac3f4186e273083820c8c59f3c52efb713a755de255d0eb997b4990253ea388#0",\n      "type":"RevocationList2021Status",\n      "revocationListIndex":"1",\n      "revocationListCredential":"did:evan:zkp:0xcac3f4186e273083820c8c59f3c52efb713a755de255d0eb997b4990253ea388"\n   },\n   "proof":{\n      "type":"EcdsaPublicKeySecp256k1",\n      "created":"2021-11-23T11:41:43.000Z",\n      "proofPurpose":"assertionMethod",\n      "verificationMethod":"did:evan:testcore:0x6240cedfc840579b7fdcd686bdc65a9a8c42dea6#key-1",\n      "jws":"eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NkstUiJ9.eyJpYXQiOiIyMDIxLTExLTIzVDExOjQxOjQzLjAwMFoiLCJkb2MiOnsiQGNvbnRleHQiOlsiaHR0cHM6Ly93d3cudzMub3JnLzIwMTgvY3JlZGVudGlhbHMvdjEiLCJodHRwczo6Ly9zY2hlbWEub3JnIiwiaHR0cHM6Ly93M2lkLm9yZy92Yy1zdGF0dXMtbGlzdC0yMDIxL3YxIl0sImlkIjoiOTQ0NTBjNzItNWRjNC00ZTQ2LThkZjAtMTA2ODE5MDY0NjU2IiwidHlwZSI6WyJWZXJpZmlhYmxlQ3JlZGVudGlhbCJdLCJpc3N1ZXIiOiJkaWQ6ZXZhbjp0ZXN0Y29yZToweDYyNDBjZWRmYzg0MDU3OWI3ZmRjZDY4NmJkYzY1YTlhOGM0MmRlYTYiLCJpc3N1YW5jZURhdGUiOiIyMDIxLTA0LTIwVDA4OjM1OjU2KzAwMDAiLCJjcmVkZW50aWFsU3ViamVjdCI6eyJpZCI6ImRpZDpldmFuOnRlc3Rjb3JlOjB4NjdjZThiMDFiM2I3NWE5YmE0YTE0NjIxMzlhMWVkYWEwZDJmNTM5ZiIsImRhdGEiOnsidGVzdF9wcm9wZXJ0eV9zdHJpbmczIjoidmFsdWUiLCJ0ZXN0X3Byb3BlcnR5X3N0cmluZzIiOiJ2YWx1ZSIsInRlc3RfcHJvcGVydHlfc3RyaW5nNCI6InZhbHVlIiwidGVzdF9wcm9wZXJ0eV9zdHJpbmcxIjoidmFsdWUiLCJ0ZXN0X3Byb3BlcnR5X3N0cmluZyI6InZhbHVlIn19LCJjcmVkZW50aWFsU2NoZW1hIjp7ImlkIjoiZGlkOmV2YW46emtwOjB4ZDY0MWMyNjE2MWU3NjljZWY0YjQxNzYwMjExOTcyYjI3NGE4ZjM3ZjEzNWEzNDA4M2U0ZTQ4YjNmMTAzNWVkYSIsInR5cGUiOiJFdmFuWktQU2NoZW1hIn0sImNyZWRlbnRpYWxTdGF0dXMiOnsiaWQiOiJkaWQ6ZXZhbjp6a3A6MHhjYWMzZjQxODZlMjczMDgzODIwYzhjNTlmM2M1MmVmYjcxM2E3NTVkZTI1NWQwZWI5OTdiNDk5MDI1M2VhMzg4IzAiLCJ0eXBlIjoiUmV2b2NhdGlvbkxpc3QyMDIxU3RhdHVzIiwicmV2b2NhdGlvbkxpc3RJbmRleCI6IjEiLCJyZXZvY2F0aW9uTGlzdENyZWRlbnRpYWwiOiJkaWQ6ZXZhbjp6a3A6MHhjYWMzZjQxODZlMjczMDgzODIwYzhjNTlmM2M1MmVmYjcxM2E3NTVkZTI1NWQwZWI5OTdiNDk5MDI1M2VhMzg4In19LCJpc3MiOiJkaWQ6ZXZhbjp0ZXN0Y29yZToweDYyNDBjZWRmYzg0MDU3OWI3ZmRjZDY4NmJkYzY1YTlhOGM0MmRlYTYifQ.DoAQvIsPcORu5xqAFzWWzTnDeLvV_ElfF7EEb8E7dPNPrgjsfi3V837LnUD3uNaJIiohuRkW1kiisIVekp5bkwA"\n   }\n}\n')),(0,r.kt)("h3",{id:"verify-credential-example-using-vade-evan-cli"},"Verify Credential example using vade-evan-cli"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'method=did:evan\n\npayload={\n   "credential":{\n      "@context":[\n         "https://www.w3.org/2018/credentials/v1",\n         "https:://schema.org",\n         "https://w3id.org/vc-status-list-2021/v1"\n      ],\n      "id":"94450c72-5dc4-4e46-8df0-106819064656",\n      "type":[\n         "VerifiableCredential"\n      ],\n      "issuer":"did:evan:testcore:0x6240cedfc840579b7fdcd686bdc65a9a8c42dea6",\n      "issuanceDate":"2021-04-20T08:35:56+0000",\n      "credentialSubject":{\n         "id":"did:evan:testcore:0x67ce8b01b3b75a9ba4a1462139a1edaa0d2f539f",\n         "data":{\n            "test_property_string4":"value",\n            "test_property_string2":"value",\n            "test_property_string":"value",\n            "test_property_string1":"value",\n            "test_property_string3":"value"\n         }\n      },\n      "credentialSchema":{\n         "id":"did:evan:zkp:0xd641c26161e769cef4b41760211972b274a8f37f135a34083e4e48b3f1035eda",\n         "type":"EvanZKPSchema"\n      },\n      "credentialStatus":{\n         "id":"did:evan:zkp:0xcac3f4186e273083820c8c59f3c52efb713a755de255d0eb997b4990253ea388#0",\n         "type":"RevocationList2021Status",\n         "revocationListIndex":"1",\n         "revocationListCredential":"did:evan:zkp:0xcac3f4186e273083820c8c59f3c52efb713a755de255d0eb997b4990253ea388"\n      },\n      "proof":{\n         "type":"EcdsaPublicKeySecp256k1",\n         "created":"2021-11-23T12:01:29.000Z",\n         "proofPurpose":"assertionMethod",\n         "verificationMethod":"did:evan:testcore:0x6240cedfc840579b7fdcd686bdc65a9a8c42dea6#key-1",\n         "jws":"eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NkstUiJ9.eyJpYXQiOiIyMDIxLTExLTIzVDEyOjAxOjI5LjAwMFoiLCJkb2MiOnsiQGNvbnRleHQiOlsiaHR0cHM6Ly93d3cudzMub3JnLzIwMTgvY3JlZGVudGlhbHMvdjEiLCJodHRwczo6Ly9zY2hlbWEub3JnIiwiaHR0cHM6Ly93M2lkLm9yZy92Yy1zdGF0dXMtbGlzdC0yMDIxL3YxIl0sImlkIjoiOTQ0NTBjNzItNWRjNC00ZTQ2LThkZjAtMTA2ODE5MDY0NjU2IiwidHlwZSI6WyJWZXJpZmlhYmxlQ3JlZGVudGlhbCJdLCJpc3N1ZXIiOiJkaWQ6ZXZhbjp0ZXN0Y29yZToweDYyNDBjZWRmYzg0MDU3OWI3ZmRjZDY4NmJkYzY1YTlhOGM0MmRlYTYiLCJpc3N1YW5jZURhdGUiOiIyMDIxLTA0LTIwVDA4OjM1OjU2KzAwMDAiLCJjcmVkZW50aWFsU3ViamVjdCI6eyJpZCI6ImRpZDpldmFuOnRlc3Rjb3JlOjB4NjdjZThiMDFiM2I3NWE5YmE0YTE0NjIxMzlhMWVkYWEwZDJmNTM5ZiIsImRhdGEiOnsidGVzdF9wcm9wZXJ0eV9zdHJpbmczIjoidmFsdWUiLCJ0ZXN0X3Byb3BlcnR5X3N0cmluZzIiOiJ2YWx1ZSIsInRlc3RfcHJvcGVydHlfc3RyaW5nIjoidmFsdWUiLCJ0ZXN0X3Byb3BlcnR5X3N0cmluZzEiOiJ2YWx1ZSIsInRlc3RfcHJvcGVydHlfc3RyaW5nNCI6InZhbHVlIn19LCJjcmVkZW50aWFsU2NoZW1hIjp7ImlkIjoiZGlkOmV2YW46emtwOjB4ZDY0MWMyNjE2MWU3NjljZWY0YjQxNzYwMjExOTcyYjI3NGE4ZjM3ZjEzNWEzNDA4M2U0ZTQ4YjNmMTAzNWVkYSIsInR5cGUiOiJFdmFuWktQU2NoZW1hIn0sImNyZWRlbnRpYWxTdGF0dXMiOnsiaWQiOiJkaWQ6ZXZhbjp6a3A6MHhjYWMzZjQxODZlMjczMDgzODIwYzhjNTlmM2M1MmVmYjcxM2E3NTVkZTI1NWQwZWI5OTdiNDk5MDI1M2VhMzg4IzAiLCJ0eXBlIjoiUmV2b2NhdGlvbkxpc3QyMDIxU3RhdHVzIiwicmV2b2NhdGlvbkxpc3RJbmRleCI6IjEiLCJyZXZvY2F0aW9uTGlzdENyZWRlbnRpYWwiOiJkaWQ6ZXZhbjp6a3A6MHhjYWMzZjQxODZlMjczMDgzODIwYzhjNTlmM2M1MmVmYjcxM2E3NTVkZTI1NWQwZWI5OTdiNDk5MDI1M2VhMzg4In19LCJpc3MiOiJkaWQ6ZXZhbjp0ZXN0Y29yZToweDYyNDBjZWRmYzg0MDU3OWI3ZmRjZDY4NmJkYzY1YTlhOGM0MmRlYTYifQ.et_rtqo4aaJqutsMTkzsb8BK5Eeh_TP4qZEvfb1pKqB47RzftjFbpwagCY8PQMSc7Um8I29vTp9wB546EazDFwA"\n      }\n   },\n   "signerAddress":"0xcd5e1dbb5552c2baa1943e6b5f66d22107e9c05c"\n}\n\noptions={"type":"jwt"}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"./vade_evan_cli vc_zkp verify_proof --method $method --options $options --payload $payload\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Output")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{"verified":true}\n')))}u.isMDXComponent=!0}}]);